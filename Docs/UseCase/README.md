# Поток событий
---

![UseCase](../UseCase/UseCase.png)

# Содержание
1 [Актёры](#1) <br>
2 [Варианты использования](#2) <br>
2.1 [Добавить запись](#2.1) <br>
2.2 [Удалить запись](#2.2) <br>
2.3 [Вывод "хороших" учеников](#2.3) <br>
2.4 [Вывод "плохих" учеников](#2.4) <br>
2.5 [Вывод всех учеников](#2.5) <br>
2.6 [Отмена последней операции](#2.6) <br>
2.7 [Поиск записей](#2.7) <br>
2.8 [Редактировать запись](#2.8) <br>

<a name="1"/>

# 1 Актёры

| Актёр | Описание |
|:--|:--|
| Пользователь | Человек, использующий систему |

<a name="2"/>

# 2 Варианты использования

<a name="2.1"/>

## 2.1 Добавить запись

**Описание.** Вариант использования "Добавить запись" позволяет пользователю добавить запись в базу данных.  
**Основной поток.**
1. Вариант использования начинается, когда пользователь запускает приложение;
2. Пользователь вводит необходимые данные;
3. Пользователь подтверждает ввод данных;
4. Приложение перезаписывает основную базу данных в резервную копию;
5. Приложение проверяет вводимые данные на полность и правильность. Если данные некорректные, то выполняется альтернативный поток А1;
6. Добавление записи в базу данных;
7. Приложение выводит измененный список записей;
8. Вариант использования завершается;

**Альтернативный поток А1.**
1. Приложение не записывает запись в базу данных и продолжает работу;
2. Возврат к п.2 основного потока;

<a name="2.2"/>

## 2.2 Удалить запись

**Описание.** Вариант использования "Удалить запись" позволяет пользователю удалить запись из базы данных.  
**Основной поток.**
1. Пользователь нажимает кнопку "Удалить" в главном окне прилоежния;
2. Пользователь вводит уникальный номер записи которую хочет удалить;
3. Пользователь подтверждает ввод уникального номера;
4. Приложение перезаписывает основную базу данных в резервную копию;
5. Приложение проверят введённый уникальнйы номер на присутствие его в базе данных. Если совпадение не выявлено, выполняется альтернативный поток А2;
6. Приложение удаляет запись из базы данных;
7. Приложение Выводит изменённый список записей;
8. Вариант использования завершается;

**Альтернативный поток А2.**
1. Приложение не удаляет запись и продолжает работать;
2. Возврат к п.7 основного потока;

<a name="2.3"/>

## 2.3 Вывод "хороших" учеников

**Описание.** Вариант использования "Вывод "хороших" учеников" позволяет вывести записи с средним баллом больше 7.  
**Основной поток.**
1. Пользователь нажимает кнопку "Вывод "хороших" учеников" в главном окне прилоежния;
2. Приложение выводит записи учеников у которых средний балл больше 7;
3. Вариант использования завершается;

<a name="2.4"/>

## 2.4 Вывод "плохих" учеников

**Описание.** Вариант использования "Вывод "плохих" учеников" позволяет вывести записи с средним баллом ниже 4.  
**Основной поток.**
1. Пользователь нажимает кнопку "Вывод "хороших" учеников" в главном окне прилоежния;
2. Приложение выводит записи учеников у которых средний балл ниже 4;
3. Вариант использования завершается;

<a name="2.5"/>

## 2.5 Вывод всех учеников

**Описание.** Вариант использования "Вывод всех учеников" позволяет вывести все записи.  
**Основной поток.**
1. Пользователь нажимает кнопку "Вывод всех учеников" в главном окне прилоежния;
2. Приложение выводит записи всех учеников;
3. Вариант использования завершается;

<a name="2.6"/>

## 2.6 Отмена последней операции

**Описание.** Вариант использования "Отмена последней операции" позволяет отменить последнее изменение в базе данных.
**Предусловия.** Пользователь изменил, добавил или удалил запись из базы данных.
**Основной поток.**
1. Пользователь нажимает кнопку "Отмена" в главном окне прилоежния;
2. Приложение перезаписывает основную базу данных из резервной копии;
3. Приложение выводит новый список записей;
4. Вариант использования завершается;

<a name="2.7"/>

## 2.7 Поиск записей

**Описание.** Вариант использования "Поиск записей" позволяет произвести поиск записей с определнным параметром.
**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает кнопку "Поиск" на главном окне приложения;
2. Приложение отображает окно поиска, в котором предлагает пользователю выбрать один из вариантов поиска: поиск по имени, поиск по фамилии, поиск по адресу, поиск по отчеству, поиск по классу;
3. Пользователь вводит значение параметра по которому будет произведен поиск;
4. Пользователь подтверждает введенные данные для поиска;
5. Приложение скрывает окно поиска.
6. Приложение ищет запись по определенному параметру и значеию;
7. Приложение отображает список записей которые подоходят по критериям поиска; 
8. Вариант использования завершается.

<a name="2.8"/>

## 2.8 Редактировать запись

**Описание.** Вариант использования "Редактировать запись" позволяет изменить запись в базе данных.
**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает кнопку "Редактировать" на главном окне приложения;
2. Приложение отображает окно редактирования, в котором предлагает пользователю выбрать один из вариантов поиска записи и выбрать один из вариантов редактивания: редактировать имя, редактировать фамилию, редактировать отчество,  редактировать адрес, редактировать класс,  редактировать отметки,  редактировать дату рождения. Если пользователь выбрал редактирование отметок то выполняется альтернативный поток А4;
3. Пользователь вводит значение параметра по которому будет произведен поиск и новое значение параметра которое пользователь хочет изменить;
4. Пользователь подтверждает введенные данные;
5. Приложение перезаписывает основную базу данных в резервную копию;
6. Приложение производит поиск записи в которой нужно изменить параметр. Если запись не найдена то выполняется альтернативный поток А3;
7. Приложение изменяет определенное значение в записи;
8. Приложение отображает измененный список;
9. Вариант использования завершается;

**Альтернативный поток А3.**
1. Приложение не изменяет запись и продолжает работать;
2. Возврат к п.8 основного потока;

**Альтернативный поток А4.**
1. Пользователь вводит значение параметра по которому будет произведен поиск и новое значение параметра "отметки";
2. Пользователь подтверждает введенные данные;
3. Приложение перезаписывает основную базу данных в резервную копию;
4. Приложение производит поиск записи в которой нужно изменить параметр. Если запись не найдена то выполняется альтернативный поток А3;
5. Программа перерассчитывает средний балл;
6. Возврат к п.7 основного потока;